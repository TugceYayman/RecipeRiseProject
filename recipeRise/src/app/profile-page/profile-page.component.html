<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
</head>
<body>
<app-navbar></app-navbar>
<div class="container">
    <div class="row">
        <!-- Profile Sidebar -->
        <div class="col-md-4">
            <div class="profile-sidebar">
                <!-- User Image and Title -->
                <div class="d-flex align-items-center">
                    <div class="profile-userpic my-3">
                        <img width="170px" height="170px" src="/assets/images/bolognese.jpeg" class="img-fluid rounded-circle" alt="User Image" id="selectedProfilePic">
                    </div>
                    <div class="profile-usertitle ms-3">
                        <div class="profile-usertitle-name">
                            Hi, user@example.com
                        </div>
                    </div>
                </div>
                <!-- Button to trigger modal -->
                <button type="button" class="changeButton" data-bs-toggle="modal" data-bs-target="#profilePictureModal">
                  Change Profile Picture
                </button>
                <nav class="profile-usermenu">
                  <ul class="nav flex-column">
                    <li class="nav-item">
                      <a class="nav-link" (click)="showSection('personal-info')">Personal Info</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" (click)="showSection('public-profile')">Public Profile Settings</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" (click)="showSection('change-password')">Change Password</a>
                    </li>
                    <!-- ... other nav-items ... -->
                  </ul>
                </nav>
            </div>
        </div>
         <!-- Profile Content -->
          <div class="col-md-8">
            <div class="profile-content" id="content-section">
           <!--Content goes here --> 
            <div *ngIf="activeSection === 'personal-info'">
              <h2>Personal Info</h2>
              <p>These details will be used for your profile. By filling out this information, you will receive a more personalized experience on our website.</p>
              <form id="personal-info-form">
                  <div class="form-group">
                      <label for="emailAddress">Email Address*</label>
                      <input type="email" class="form-control" id="emailAddress" placeholder="user@example.com" required>
                  </div>
                  <div class="form-row">
                      <div class="form-group col-md-6">
                          <label for="firstName">First Name</label>
                          <input type="text" class="form-control" id="firstName" placeholder="First Name">
                      </div>
                      <div class="form-group col-md-6">
                          <label for="lastName">Last Name</label>
                          <input type="text" class="form-control" id="lastName" placeholder="Last Name">
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="birthDate">Birth Date</label>
                      <input type="date" class="form-control" id="birthDate">
                  </div>
               
                  <button type="submit" class="btn">Save Changes</button>
              </form>
            </div>
            <div id="public-profile" class="content-block" style="display: none;">
              <h2>Public Profile Settings</h2>
              <!--Public profile setting content --> 
            </div>

            <div *ngIf="activeSection === 'change-password'">
              <h2>Change Password</h2>
              <p>Secure your account by updating your password regularly.</p>
              <form id="change-password-form">
                <div class="form-group">
                  <label for="currentPassword">Current Password*</label>
                  <input type="password" class="form-control" id="currentPassword" placeholder="Current Password" required>
                </div>
                <div class="form-group">
                  <label for="newPassword">New Password*</label>
                  <input type="password" class="form-control" id="newPassword" placeholder="New Password" required>
                </div>
                <div class="form-group">
                  <label for="confirmPassword">Confirm New Password*</label>
                  <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm New Password" required>
                </div>
                <button type="submit" class="btn">Change Password</button>
              </form>
            </div>

            </div>
            </div> 
    </div>
</div>


<!-- Profile Picture Selection Modal -->
<div class="modal fade" id="profilePictureModal" tabindex="-1" aria-labelledby="profilePictureModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="profilePictureModalLabel">Choose Profile Picture</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Profile picture options -->
        <div class="d-flex flex-wrap">
          <img src="/assets/images/bolognese.jpeg" alt="Profile 1" class="img-thumbnail m-1 selectable-image" onclick="selectProfilePicture('image1.jpg')">
          <img src="/assets/images/bolognese.jpeg" alt="Profile 2" class="img-thumbnail m-1 selectable-image" onclick="selectProfilePicture('image2.jpg')">
          <!-- Add more images as needed -->
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script>

  function selectProfilePicture(imageSrc) {
      // Update the profile picture on the page
      document.getElementById('selectedProfilePic').src = imageSrc;
  }
  function showSection(sectionId) {
    // Hide all content blocks
    var contentBlocks = document.getElementsByClassName('content-block');
    for (var i = 0; i < contentBlocks.length; i++) {
        contentBlocks[i].style.display = 'none';
    }
    
    // Show the selected content block
    document.getElementById(sectionId).style.display = 'block';
    
    // Update the active navigation link
    var navLinks = document.getElementsByClassName('nav-link');
    for (var j = 0; j < navLinks.length; j++) {
        navLinks[j].classList.remove('active');
    }
    event.currentTarget.classList.add('active');
}

</script>
<app-footer></app-footer>

</body>
</html>
